<!DOCTYPE html>
<html>
    <head>
        <title>FlowChat</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Overpass">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="main-container">
            <div class="contacts-panel">
                <h2>
                    Contacts
                </h2>
                <button class="contact">
                    <img src="resources/feline.jpg">
                    <span>Puffer Puff</span>
                </button>
            </div>
            <div class="chatscreen-panel">
                <div class="chatbox">
                    <input type="text" id="my-text" placeholder="Type something...">
                    <button id="send-button">
                        <img src="resources/send.png">
                    </button>
                </div>

                <div class="message-panel" id="message-container">

                </div>
            </div>
        </div>

        <script>
            function sendMessage() 
            {
                const inputElement = document.getElementById("my-text");
                const inputValue = inputElement.value;
                if(inputValue !== "")
                {
                    const my_message_template = `
                        <div class="messagebox-me">
                            <span class="message-header">You</span>
                            <span class="message" id="message-paragraph">Hello, How are you?!</span>
                        </div>
                    `;

                    const your_message_template = `
                        <div class="messagebox-you">
                            <span class="message-header">Puffer Puff</span>
                            <span class="message" id="message-paragraph">Sup, bro! I'm doin fine</span>
                        </div>
                    `;

                    const response = ["ok", "hmm", "yes", "haha", "huh?!", "mm..", "right", "what?", "tell me about it", "carry on texting", "Oh! I can feel it this is a great app"];
                    const pick = Math.floor(Math.random() * response.length);

                    const container = document.getElementById("message-container");
                    const my_message = document.createElement("div");
                    const your_message = document.createElement("div");

                    my_message.innerHTML = my_message_template;
                    your_message.innerHTML = your_message_template;

                    const my_paragraph = my_message.querySelector("#message-paragraph");
                    my_paragraph.textContent = inputValue;

                    const your_paragraph = your_message.querySelector("#message-paragraph");
                    your_paragraph.textContent = response[pick];

                    container.appendChild(my_message);
                    container.appendChild(your_message);
                    inputElement.value = "";
                }
            }

            const insertButton = document.getElementById("send-button");
            insertButton.addEventListener("click", sendMessage);
        </script>
    </body>
</html>